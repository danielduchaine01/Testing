---
title: "Distance and Geographic Size in Latin America"
subtitle: "Testing the Relationship Between Distance from the United States and Country Land Area"
author: "Research Project"
date: "`r Sys.Date()`"
output:
  html_document:
    toc: true
    toc_float: true
    theme: united
    code_folding: hide
    df_print: paged
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = TRUE,
  message = FALSE,
  warning = FALSE,
  fig.width = 10,
  fig.height = 7,
  dpi = 300
)

library(tidyverse)
library(knitr)
library(kableExtra)
```

# Executive Summary

This project tests a simple geographic hypothesis: **Does distance from the United States correlate with the geographic size of Latin American countries?**

**Core Hypothesis:** Countries farther from the United States will have larger land areas than countries closer to the U.S.

**Key Finding:** [The analysis will reveal whether distance from the US predicts land area after controlling for GDP per capita, population, and years of independence]

---

# 1. Introduction

## Research Question

Is there a positive correlation between distance from the United States and the land area (geographic size) of Latin American countries?

This simple geographic question examines whether countries farther from the US tend to be geographically larger than those closer to it.

## Predictions

If the hypothesis is supported:

1. **Distance should have a POSITIVE coefficient**: Countries farther from Washington DC will have larger land areas
2. **The effect may persist after controls**: The relationship might hold after accounting for GDP per capita, population, and years of independence
3. **Statistical significance**: The effect should be distinguishable from random variation

---

# 2. Research Design

## Sample

**Unit of Analysis:** Latin American countries (N ≈ 20)

Countries included: Mexico, Central America, Caribbean nations (population > 500k), and all South American states.

## Variables

### Dependent Variable

- **Land Area**: Total land area in square kilometers
  - Source: World Bank World Development Indicators
  - Log-transformed for analysis due to high skewness

### Key Independent Variable

- **Distance**: Great-circle distance from country capital to Washington, D.C. (km)
  - Calculated using the `geosphere` package's Haversine formula

### Control Variables

- **GDP per capita**: Log of GDP per capita (constant 2015 USD)
- **Population**: Log of population
- **Years Independent**: Years since independence from colonial power

## Model Specification

$$
\log(\text{Land Area}_i) = \beta_0 + \beta_1 \text{Distance}_i + \beta_2 \log(\text{GDP}_i) + \beta_3 \log(\text{Pop}_i) + \beta_4 \text{Years Independent}_i + \epsilon_i
$$

**Hypothesis test:** $\beta_1 > 0$ and statistically significant

---

# 3. Data Sources

```{r data-sources, echo=FALSE}
data_sources <- tribble(
  ~Variable, ~Source, ~Indicator,
  "Land Area", "World Bank WDI", "AG.LND.TOTL.K2 (Land area in sq. km)",
  "GDP per capita", "World Bank WDI", "NY.GDP.PCAP.KD",
  "Population", "World Bank WDI", "SP.POP.TOTL",
  "Distance", "Calculated", "Haversine formula (geosphere package)",
  "Years Independent", "Manual coding", "Historical records"
)

kable(data_sources, caption = "Data Sources and Indicators") %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed"), full_width = FALSE)
```

**Time Period:** Data averaged over 2018-2022 to reduce year-to-year volatility

---

# 4. Descriptive Statistics

```{r load-data}
# Load processed data
analysis_data <- read_csv("data/processed/analysis_data.csv", show_col_types = FALSE)
```

## Sample Characteristics

```{r sample-size}
cat("Total observations:", nrow(analysis_data), "\n")
cat("Countries included:", paste(head(sort(analysis_data$country_name), 10), collapse = ", "), "...\n")
```

## Summary Statistics

```{r desc-stats}
desc_stats <- read_csv("output/tables/descriptive_statistics.csv", show_col_types = FALSE)

kable(desc_stats, digits = 2,
      caption = "Summary Statistics for Key Variables") %>%
  kable_styling(bootstrap_options = c("striped", "hover"), full_width = FALSE)
```

## Correlation Matrix

```{r correlation}
cor_matrix <- read.csv("output/tables/correlation_matrix.csv", row.names = 1)

kable(cor_matrix, digits = 3,
      caption = "Bivariate Correlations Between Variables") %>%
  kable_styling(bootstrap_options = c("striped", "hover"), full_width = FALSE)
```

**Key Observations:**

- Distance and land area correlation: `r round(cor_matrix["Distance..km.", "Land.Area..km.."], 3)`
- GDP and land area correlation: `r round(cor_matrix["GDP.per.capita", "Land.Area..km.."], 3)`

---

# 5. Main Results

## Primary Visualization

```{r main-plot, fig.cap="Main result: Relationship between distance from Washington DC and land area"}
knitr::include_graphics("output/figures/distance_geographic_size.png")
```

## Regression Analysis

```{r regression-results}
# Load regression results
reg_results <- read_csv("output/tables/regression_results.csv", show_col_types = FALSE)
model_fit <- read_csv("output/tables/model_fit_statistics.csv", show_col_types = FALSE)

# Display full model results
full_model <- reg_results %>%
  filter(model == "Model 2: Full Model") %>%
  select(Variable = variable, Estimate = estimate, `Std. Error` = std_error,
         `t-value` = t_value, `p-value` = p_value, Sig. = significance)

kable(full_model, digits = 4,
      caption = "Main Regression Model: Predictors of Log(Land Area)") %>%
  kable_styling(bootstrap_options = c("striped", "hover"), full_width = FALSE) %>%
  footnote(general = "Significance codes: *** p<0.001, ** p<0.01, * p<0.05, . p<0.10")
```

### Model Fit

```{r model-fit}
kable(model_fit, digits = 3,
      caption = "Model Fit Statistics") %>%
  kable_styling(bootstrap_options = c("striped", "hover"), full_width = FALSE)
```

## Coefficient Plot

```{r coef-plot, fig.cap="Regression coefficients with 95% confidence intervals"}
knitr::include_graphics("output/figures/coefficient_plot.png")
```

---

# 6. Model Diagnostics

## Multicollinearity Check

```{r vif}
vif_data <- read.csv("output/tables/vif_diagnostics.csv")

kable(vif_data, digits = 2,
      caption = "Variance Inflation Factors (VIF < 10 is acceptable)") %>%
  kable_styling(bootstrap_options = c("striped", "hover"), full_width = FALSE)
```

## Residual Plots

Diagnostic plots are available in `output/figures/regression_diagnostics.pdf`

**Assessment:** [Residual plots should show no systematic patterns, indicating the model assumptions are met]

---

# 7. Robustness Checks

## Partial Regression Plot

```{r partial-plot, fig.cap="Partial regression: Distance effect controlling for all covariates"}
knitr::include_graphics("output/figures/partial_regression_plot.png")
```

This plot shows the relationship between distance and land area **after** removing the linear effects of GDP per capita, population, and years of independence.

## Geographic Visualization

```{r geo-map, fig.cap="Geographic distribution of land area across Latin America"}
knitr::include_graphics("output/figures/geographic_map.png")
```

---

# 8. Interpretation

```{r interpretation, results='asis'}
# Extract key results
full_model_data <- reg_results %>% filter(model == "Model 2: Full Model")
distance_coef <- full_model_data %>% filter(variable == "distance_1000km")

if (distance_coef$estimate > 0 & distance_coef$p_value < 0.05) {
  cat("## ✓ Hypothesis SUPPORTED\n\n")
  cat("**Key Finding:** Distance from the United States has a **significant positive effect** on geographic size in Latin America.\n\n")
  cat("**Interpretation:** For every 1,000 km increase in distance from Washington DC, log(land area) increases by approximately",
      round(distance_coef$estimate, 3), "units (p <", round(distance_coef$p_value, 3), ").\n\n")
  cat("This represents approximately a", round((exp(distance_coef$estimate) - 1) * 100, 1), "% increase in land area per 1,000 km of distance.\n\n")
  cat("This relationship holds even after controlling for economic development (GDP per capita), population size, and years of independence.\n\n")
  cat("**Implication:** There is a positive correlation between distance from the US and geographic size among Latin American countries.\n\n")
} else if (distance_coef$estimate > 0) {
  cat("## ~ Hypothesis PARTIALLY SUPPORTED\n\n")
  cat("**Key Finding:** Distance has a positive coefficient but does not reach conventional levels of statistical significance.\n\n")
  cat("This suggests a potential relationship that requires further investigation with additional data or refined measures.\n\n")
} else {
  cat("## ✗ Hypothesis NOT SUPPORTED\n\n")
  cat("**Key Finding:** Distance from the United States does NOT predict larger geographic size in this sample.\n\n")
  cat("The hypothesis, at least as operationalized here, does not find empirical support.\n\n")
}
```

---

# 9. Limitations

This analysis has several important limitations:

1. **Small Sample Size (N ≈ 20)**
   - Limited statistical power to detect effects
   - Vulnerable to influence from individual cases
   - Restricts the number of control variables that can be included

2. **Correlation vs. Causation**
   - This is a correlational study; no causal claims can be made
   - Cannot establish directionality of relationships
   - Confounding variables may drive observed patterns

3. **Omitted Variable Bias**
   - Colonial legacy (Spanish vs. British vs. French)
   - Geographic factors (terrain, climate zones)
   - Historical patterns of territorial expansion/contraction
   - Natural resource endowments

4. **Measurement Issues**
   - Land area excludes territorial waters
   - Distance is simple great-circle metric
   - Cross-sectional design cannot capture temporal dynamics

5. **Scope Conditions**
   - Findings limited to Latin America
   - May not generalize to other regions
   - Geographic patterns are largely fixed historically

---

# 10. Conclusions

## Summary

This project tested whether distance from the United States correlates with the geographic size of Latin American countries.

The analysis found [summarize whether distance effect was significant], suggesting that [interpret the finding].

## Implications

**For Geographic Patterns:**

- [If supported: There appears to be a geographic pattern where countries farther from the US tend to be larger]
- [If not supported: No systematic relationship between distance and size is evident in this sample]

**For Future Research:**

Understanding geographic patterns in country size may be relevant for:

- Regional integration studies
- Historical analysis of territorial formation
- Comparative political economy

## Future Research

This exploratory study opens several avenues for further investigation:

1. **Regional Comparison:** Test in other world regions (Africa, Asia, etc.)

2. **Historical Analysis:** Examine how territorial boundaries evolved over time

3. **Additional Controls:** Include colonial history, terrain ruggedness, climate zones

4. **Alternative Measures:** Include territorial waters, exclusive economic zones

5. **Qualitative Case Studies:** Deep dives into specific countries to understand historical context

---

# Appendix: Replication

## Software Environment

```{r session-info}
sessionInfo()
```

## Replication Instructions

To replicate this analysis:

1. Install required R packages (see `README.md`)
2. Run scripts in order:
   - `scripts/01_collect_data.R`
   - `scripts/02_clean_merge.R`
   - `scripts/03_analysis.R`
   - `scripts/04_visualize.R`
3. Knit this document: `rmarkdown::render("roche_limit_report.Rmd")`

All data and code are available in this repository.

---

# References

**Data Sources:**

- World Bank. (2023). *World Development Indicators*. https://data.worldbank.org

**Software:**

- R Core Team. (2023). R: A Language and Environment for Statistical Computing
- Wickham et al. (2023). tidyverse: R packages for data science

---

*Report generated: `r Sys.Date()`*
